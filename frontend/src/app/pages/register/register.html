<body>
    <div class=" inicio text-white p-4 mb-2">
        <button class="btn-volver" (click)="volver()" style="position: absolute; left: 1rem;">
            <i class="bi bi-arrow-left"></i> üè† Volver</button>
        <h4 class="text-center">SISTEMA DE GESTION DE INVENTARIO PARA LOCAL DE INDUMENTARIA</h4>
    </div>
    <div class="container">
        <div class="card-body">
                <p class="titulo text-center mt-3">Registrar Nuevo Usuario</p>
                <form class="form-signin p-2 mb-2" [formGroup]="registerForm" (ngSubmit)="enviar()">

                    <!--NOMBRE-->
                    <div class="form-group">
                        <label for="nombreUsuario">Nombre</label>
                        <input type="text"
                               class="form-control p-3"
                               placeholder="Nombre"
                               formControlName="nombre">
                        @if (registerForm.get('nombre')?.errors?.['required'] && registerForm.get('nombre')?.touched) {    
                            <div class="msj-error text-danger mt-2 p-2">El nombre es obligatorio</div>
                        }
                    </div>

                    <!--APELLIDO-->
                    <div class="form-group">
                        <label for="nombreUsuario">Apellido</label>
                        <input type="text"
                               class="form-control p-3"
                               placeholder="Apellido"
                               formControlName="apellido">
                        @if (registerForm.get('apellido')?.errors?.['required'] && registerForm.get('apellido')?.touched) {    
                            <div class="msj-error text-danger mt-2 p-2">El apellido es obligatorio</div>
                        }
                    </div>

                    <!--N√öMERO DE DNI-->
                    <div class="form-group">
                        <label for="dni">DNI</label>
                        <input type="text" 
                               class="form-control p-3"   
                               placeholder="DNI"
                               formControlName="dni">
                        @if (registerForm.get('dni')?.invalid && registerForm.get('dni')?.touched) {
                            <!--Validaci√≥n espec√≠fica para dni requerido-->
                            @if (registerForm.get('dni')?.errors?.['required']) {
                                <div class="msj-error text-danger mt-2 p-2">El DNI es obligatorio</div>
                            }
                            <!--Validaci√≥n espec√≠fica para formato de dni-->
                            @if (registerForm.get('dni')?.errors?.['minLength'] || registerForm.get('dni')?.errors?.['maxLength']) {
                                <div class="msj-error text-danger mt-2 p-2">El formato del DNI no es v√°lido</div>
                            }
                        }
                    </div>

                    <div class="form-group">
                        <label for="telefono">Tel√©fono</label>
                        <input type="text" 
                               class="form-control p-3"   
                               placeholder="Tel√©fono"
                               formControlName="telefono">
                        @if (registerForm.get('telefono')?.invalid && registerForm.get('telefono')?.touched) {
                            <!--Validaci√≥n espec√≠fica para email requerido-->
                            @if (registerForm.get('telefono')?.errors?.['required']) {
                                <div class="msj-error text-danger mt-2 p-2">El DNI es obligatorio</div>
                            }
                            <!--Validaci√≥n espec√≠fica para formato de email-->
                            @if (registerForm.get('telefono')?.errors?.['pattern']) {
                                <div class="msj-error text-danger mt-2 p-2">El formato del tel√©fono no es v√°lido</div>
                            }
                        }
                    </div>

                    <!-- CARGO -->
                    <div class="form-group">
                    <label for="rol_id">Rol</label>
                    <div>
                        <input
                        type="radio"
                        id="Vendedor"
                        [value]="1"
                        formControlName="rol_id" />
                        <label for="vendedor">Vendedor</label>
                    </div>
                    <div>
                        <input
                        type="radio"
                        id="Comprador"
                        [value]="2"
                        formControlName="rol_id" />
                        <label for="encargado">Encargado de Compras</label>
                    </div>

                    <!-- Mensaje de error -->
                    @if (registerForm.get('rol_id')?.invalid && registerForm.get('rol_id')?.touched) {
                        <div class="msj-error text-danger mt-2 p-2">
                        Debe seleccionar un cargo.
                        </div>
                    }
                    </div>
                    
                    <button type="submit" 
                            class="btn btn-primary p-3 w-100"
                            [disabled]=registerForm.invalid
                            >Aceptar
                    </button>
                </form>
        </div>
    </div>
</body>